#!/usr/bin/env perl6
#
use JSON::Fast;

use lib 'lib';

use Pakku::Dist;
use Pakku::Spec;

my $dist-meta = q:to/END/;
  {
  "build-depends" : [ "build0", [ "Build1", "Build2" ] ],
  "test-depends": [ ],
  "depends": {
    "runtime": {
      "requires": [
        "Sereal:auth<cpan:*>:ver(1..*)",
        "curl:from<bin>",
        [ "Archive::Compress", "Archive::Zlib" ],
        "JSON::Fast"
      ],
      "recommends": [
        "JSON::Pretty"
      ]
    },
    "build": {
      "requires": [
        "System::Info"
      ]
    },
    "test": {
      "requires": [
        "File::Temp"
      ]
    }
  }
}
END


my $meta = from-json $dist-meta;
my $dist = Pakku::Dist.new: :$meta;

#say $dist.depends;
